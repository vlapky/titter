{"version":3,"sources":["redux/Actions.ts","containters/Login.tsx","icons/close.svg","icons/heart.svg","components/Posts.tsx","components/FeedButtons.tsx","functions/PostsFuncs.ts","containters/Feed.tsx","components/Input.tsx","components/ProfileName.tsx","components/ProfileButtons.tsx","components/ProfileLinks.tsx","components/ProfileSubs.tsx","containters/Profile.tsx","containters/Subs.tsx","App.tsx","redux/InitialState.ts","redux/RootReducer.ts","redux/Store.ts","index.tsx"],"names":["Actions","AddPost","createAction","ChangeName","DelPost","LikePost","SignOut","SignIn","Subscribe","Unsubscribe","Login","dispatch","useDispatch","React","useState","signInValue","changeSignIn","acceptSend","length","className","htmlFor","maxLength","value","onChange","e","target","onKeyPress","key","id","type","placeholder","disabled","onClick","Posts","posts","likePost","delPost","currentUser","slice","reverse","map","authorId","author","text","liked","to","src","del","alt","like","join","FeedButtons","postsType","changeType","PostsFuncs","ExtractPost","users","postData","byId","name","FilterUsersPosts","usersIds","allIds","filter","includes","GeneratePosts","postsIds","Feed","useSelector","state","changePostsType","allPosts","subsPosts","subscribedTo","Input","send","cancel","changeText","autoFocus","ProfileName","userName","changeName","profileState","inputVisible","changeVisible","handleClick","ProfileButtons","handleSignOut","handleAddPost","handleSub","handleUnsub","ProfileLinks","subs","curId","ProfileSubs","subscribedToLen","subscribersLen","subscribers","Profile","useParams","userId","GetProfileState","userPostsIds","userPosts","Subs","subsList","sub","App","loginUser","exact","path","component","InitialState","user1","user2","post1","post2","RootReducer","createReducer","action","forEach","payload","newUserId","push","subUser","indexSubUser","indexOf","splice","indexCurUser","postId","Date","getUTCMilliseconds","delPostId","indexDelPost","likePostId","indexLike","newName","acceptName","loadState","serializedState","localStorage","getItem","JSON","parse","Error","loadFromLocalStorage","Store","configureStore","reducer","preloadedState","subscribe","stringify","setItem","saveToLocalStorage","getState","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.4d105d78.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport const Actions = {\r\n  AddPost: createAction<Object>('ADD_POST'),\r\n  ChangeName: createAction<string>('CHANGE_NAME'),\r\n  DelPost: createAction<string>('DEL_POST'),\r\n  LikePost: createAction<string>('LIKE_POST'),\r\n  SignOut: createAction<void>('SIGN_OUT'),\r\n  SignIn: createAction<string>('SIGN_IN'),\r\n  Subscribe: createAction<string>('SUB'),\r\n  Unsubscribe: createAction<string>('UNSUB'),\r\n}\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Actions } from '../redux/Actions'\r\nimport '../styles/Login.scss'\r\n\r\nexport const Login: React.FC = () => {\r\n  const dispatch = useDispatch()\r\n  const [signInValue, changeSignIn] = React.useState('')\r\n\r\n  const acceptSend = signInValue.length > 3\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    changeSignIn(e.target.value)\r\n  }\r\n  const handleSend = () => {\r\n    dispatch(Actions.SignIn(signInValue))\r\n    changeSignIn('')\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      if (acceptSend) {\r\n        dispatch(Actions.SignIn(signInValue))\r\n        changeSignIn('')\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"Login\">\r\n      <label htmlFor=\"name\" className=\"Login__title\">\r\n        Введите имя\r\n      </label>\r\n      <input\r\n        maxLength={12}\r\n        value={signInValue}\r\n        onChange={handleChange}\r\n        onKeyPress={handleKeyPress}\r\n        className=\"Login__input\"\r\n        id=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"vlapky\"\r\n      />\r\n      <button disabled={!acceptSend} onClick={handleSend} className=\"button\">\r\n        Продолжить\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/close.1d546531.svg\";","export default __webpack_public_path__ + \"static/media/heart.fb824694.svg\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { IPostsProps } from '../interfaces/IPostProps'\r\nimport del from '../icons/close.svg'\r\nimport like from '../icons/heart.svg'\r\nimport '../styles/Post.scss'\r\n\r\nexport const Posts: React.FC<IPostsProps> = ({\r\n  posts,\r\n  likePost,\r\n  delPost,\r\n  currentUser,\r\n}) => {\r\n  return (\r\n    <ul>\r\n      {posts\r\n        .slice(0)\r\n        .reverse()\r\n        .map(({ id, authorId, author, text, liked }) => (\r\n          <li key={id} className=\"Post\">\r\n            <article>\r\n              <div className=\"Post__head\">\r\n                <Link className=\"Post__head_user\" to={`/${authorId}`}>\r\n                  {author}\r\n                </Link>\r\n                {currentUser === authorId && (\r\n                  <img\r\n                    onClick={() => delPost(id)}\r\n                    src={del}\r\n                    alt=\"delete\"\r\n                    className=\"Post__head_icon\"\r\n                  />\r\n                )}\r\n                <img\r\n                  onClick={() => likePost(id)}\r\n                  src={like}\r\n                  alt=\"like\"\r\n                  className=\"Post__head_icon\"\r\n                />\r\n              </div>\r\n              <p className=\"Post_text\">{text}</p>\r\n              <p className=\"Post_liked\">\r\n                {`Понравилось: `}\r\n                <span>{liked.join(', ')}</span>\r\n              </p>\r\n            </article>\r\n          </li>\r\n        ))}\r\n    </ul>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { IFeedButtonsProps } from '../interfaces/IFeedButtonsProps'\r\n\r\nexport const FeedButtons: React.FC<IFeedButtonsProps> = ({\r\n  postsType,\r\n  changeType,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => changeType('all')}\r\n        className={`button feedbutton ${postsType === 'all' && 'active'}`}\r\n      >\r\n        Все посты\r\n      </button>\r\n      <button\r\n        onClick={() => changeType('subs')}\r\n        className={`button feedbutton ${postsType === 'subs' && 'active'}`}\r\n      >\r\n        Подписки\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","export const PostsFuncs = {\r\n  ExtractPost: function (id: string, posts: any, users: any) {\r\n    let postData = posts.byId[id]\r\n    return {\r\n      id: postData.id,\r\n      authorId: postData.author,\r\n      author: users.byId[postData.author].name,\r\n      text: postData.text,\r\n      liked: postData.liked.map((id: string) => users.byId[id].name),\r\n    }\r\n  },\r\n\r\n  FilterUsersPosts: function (usersIds: Array<string>, posts: any) {\r\n    return posts.allIds.filter((id: string) =>\r\n      usersIds.includes(posts.byId[id].author)\r\n    )\r\n  },\r\n\r\n  GeneratePosts: function (postsIds: Array<string>, posts: any, users: any) {\r\n    let postsArray = postsIds.map((id: string) => {\r\n      return this.ExtractPost(id, posts, users)\r\n    })\r\n    return postsArray\r\n  },\r\n}\r\n","import React from 'react'\r\nimport '../styles/Feed.scss'\r\nimport { Posts } from '../components/Posts'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { IState } from '../interfaces/IState'\r\nimport { FeedButtons } from '../components/FeedButtons'\r\nimport { PostsFuncs } from '../functions/PostsFuncs'\r\nimport { Actions } from '../redux/Actions'\r\n\r\nexport const Feed: React.FC = () => {\r\n  const users = useSelector((state: IState) => state.users)\r\n  const posts = useSelector((state: IState) => state.posts)\r\n  const dispatch = useDispatch()\r\n\r\n  const [postsType, changePostsType] = React.useState('all')\r\n  const currentUser = users.currentUser\r\n  const allPosts: any = PostsFuncs.GeneratePosts(posts.allIds, posts, users)\r\n  const subsPosts: any = PostsFuncs.GeneratePosts(\r\n    PostsFuncs.FilterUsersPosts(\r\n      [...users.byId[users.currentUser].subscribedTo, users.currentUser],\r\n      posts\r\n    ),\r\n    posts,\r\n    users\r\n  )\r\n\r\n  const handleLikePost = (id: string) => {\r\n    dispatch(Actions.LikePost(id))\r\n  }\r\n\r\n  const handleDelPost = (id: string) => {\r\n    dispatch(Actions.DelPost(id))\r\n  }\r\n\r\n  return (\r\n    <div className=\"Feed\">\r\n      <Link className=\"link\" to={`/${currentUser}`}>\r\n        В профиль\r\n      </Link>\r\n      <FeedButtons postsType={postsType} changeType={changePostsType} />\r\n      <Posts\r\n        posts={postsType === 'all' ? allPosts : subsPosts}\r\n        currentUser={currentUser}\r\n        likePost={handleLikePost}\r\n        delPost={handleDelPost}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { IInputProps } from '../interfaces/IInputProps'\r\nimport '../styles/Input.scss'\r\n\r\nexport const Input: React.FC<IInputProps> = ({ type, send, cancel }) => {\r\n  const [text, changeText] = React.useState<string>('')\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    changeText(e.target.value)\r\n  }\r\n\r\n  const handleSend = () => {\r\n    if (acceptSend) {\r\n      send(text)\r\n      changeText('')\r\n      cancel()\r\n    }\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      if (acceptSend) {\r\n        send(text)\r\n        changeText('')\r\n        cancel()\r\n      }\r\n    }\r\n  }\r\n\r\n  let acceptSend = text.length > 3\r\n  let maxLength = type === 'post' ? 80 : type === 'name' ? 12 : 0\r\n\r\n  return (\r\n    <div className=\"Input\">\r\n      <input\r\n        type=\"text\"\r\n        autoFocus\r\n        value={text}\r\n        onChange={handleChange}\r\n        onKeyPress={handleKeyPress}\r\n        maxLength={maxLength}\r\n        placeholder={\r\n          type === 'post' ? 'Новый пост' : type === 'name' ? 'Новое имя' : ''\r\n        }\r\n        className=\"Input__input\"\r\n      />\r\n      <div className=\"Input__buttons\">\r\n        <button\r\n          onClick={handleSend}\r\n          disabled={!acceptSend}\r\n          className=\"button button_send\"\r\n        >\r\n          {type === 'post' ? 'Добавить пост' : type === 'name' ? 'Сменить' : ''}\r\n        </button>\r\n        <button onClick={cancel} className=\"button button_cancel\">\r\n          Отмена\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { IProfileName } from '../interfaces/IProfileName'\r\nimport { Input } from './Input'\r\n\r\nexport const ProfileName: React.FC<IProfileName> = ({\r\n  userName,\r\n  changeName,\r\n  profileState,\r\n}) => {\r\n  const [inputVisible, changeVisible] = React.useState<Boolean>(false)\r\n\r\n  const handleClick = () => {\r\n    if (profileState === 'YOUR') changeVisible(!inputVisible)\r\n  }\r\n  return (\r\n    <>\r\n      <p onClick={handleClick} className=\"Profile__user\">\r\n        {userName}\r\n      </p>\r\n      {inputVisible && (\r\n        <Input type=\"name\" send={changeName} cancel={handleClick} />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { IProfileButtonsProps } from '../interfaces/IProfileButtonsProps'\r\nimport { Input } from './Input'\r\n\r\nexport const ProfileButtons: React.FC<IProfileButtonsProps> = ({\r\n  profileState,\r\n  handleSignOut,\r\n  handleAddPost,\r\n  handleSub,\r\n  handleUnsub,\r\n}) => {\r\n  const [inputVisible, changeVisible] = React.useState<Boolean>(false)\r\n\r\n  return (\r\n    <>\r\n      {profileState === 'YOUR' && (\r\n        <>\r\n          <button onClick={handleSignOut} className=\"button\">\r\n            Выйти\r\n          </button>\r\n          {!inputVisible && (\r\n            <button onClick={() => changeVisible(true)} className=\"button\">\r\n              Добавить пост\r\n            </button>\r\n          )}\r\n          {inputVisible && (\r\n            <Input\r\n              type=\"post\"\r\n              cancel={() => changeVisible(false)}\r\n              send={handleAddPost}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n      {profileState === 'SUB' && (\r\n        <button onClick={handleUnsub} className=\"button\">\r\n          Отписаться\r\n        </button>\r\n      )}\r\n      {profileState === 'NONE' && (\r\n        <button onClick={handleSub} className=\"button\">\r\n          Подписаться\r\n        </button>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { IProfileLinksProps } from '../interfaces/IProfileLinksProps'\r\n\r\nexport const ProfileLinks: React.FC<IProfileLinksProps> = ({ subs, curId }) => {\r\n  return (\r\n    <>\r\n      {!subs && (\r\n        <Link className=\"link\" to=\"/feed\">\r\n          В ленту\r\n        </Link>\r\n      )}\r\n      {subs && (\r\n        <Link className=\"link\" to={`/${curId}/${subs}`}>\r\n          Назад\r\n        </Link>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { IProfileSubsProps } from '../interfaces/IProfileSubsProps'\r\n\r\nexport const ProfileSubs: React.FC<IProfileSubsProps> = ({ id, users }) => {\r\n  const subscribedToLen = users.byId[id].subscribedTo.length\r\n  const subscribersLen = users.byId[id].subscribers.length\r\n\r\n  return (\r\n    <>\r\n      <Link to={`/${id}/subscribedTo`} className=\"link\">\r\n        Подписки - {subscribedToLen} пользователей\r\n      </Link>\r\n      <Link to={`/${id}/subscribers`} className=\"link\">\r\n        Подписчики - {subscribersLen} пользователей\r\n      </Link>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport { IState } from '../interfaces/IState'\r\nimport '../styles/Profile.scss'\r\nimport { IRouteParams } from '../interfaces/IRouteParams'\r\n\r\nimport { Posts } from '../components/Posts'\r\nimport { ProfileName } from '../components/ProfileName'\r\nimport { ProfileButtons } from '../components/ProfileButtons'\r\nimport { ProfileLinks } from '../components/ProfileLinks'\r\nimport { ProfileSubs } from '../components/ProfileSubs'\r\nimport { PostsFuncs } from '../functions/PostsFuncs'\r\nimport { Actions } from '../redux/Actions'\r\n\r\nexport const Profile: React.FC = () => {\r\n  function GetProfileState(userId: string, users: any) {\r\n    if (userId === users.currentUser) {\r\n      return 'YOUR'\r\n    } else if (users.byId[users.currentUser].subscribedTo.includes(userId)) {\r\n      return 'SUB'\r\n    } else return 'NONE'\r\n  }\r\n\r\n  const { id, subs, curId } = useParams<IRouteParams>()\r\n\r\n  const users = useSelector((state: IState) => state.users)\r\n  const posts = useSelector((state: IState) => state.posts)\r\n  const dispatch = useDispatch()\r\n\r\n  const profileState = GetProfileState(id, users)\r\n  const userPostsIds = PostsFuncs.FilterUsersPosts([id], posts)\r\n  const userPosts = PostsFuncs.GeneratePosts(userPostsIds, posts, users)\r\n  const userName = users.byId[id].name\r\n\r\n  const handleLikePost = (id: string) => {\r\n    dispatch(Actions.LikePost(id))\r\n  }\r\n  const handleAddPost = (text: string) => {\r\n    dispatch(Actions.AddPost(text))\r\n  }\r\n  const handleDelPost = (id: string) => {\r\n    dispatch(Actions.DelPost(id))\r\n  }\r\n  const handleChangeName = (text: string) => {\r\n    dispatch(Actions.ChangeName(text))\r\n  }\r\n  const handleSub = () => {\r\n    dispatch(Actions.Subscribe(id))\r\n  }\r\n  const handleUnsub = () => {\r\n    dispatch(Actions.Unsubscribe(id))\r\n  }\r\n  const handleSignOut = () => {\r\n    dispatch(Actions.SignOut())\r\n  }\r\n\r\n  return (\r\n    <div className=\"Profile\">\r\n      <ProfileLinks subs={subs} curId={curId} />\r\n      <ProfileName\r\n        userName={userName}\r\n        profileState={profileState}\r\n        changeName={handleChangeName}\r\n      />\r\n      <ProfileSubs id={id} users={users} />\r\n      <ProfileButtons\r\n        profileState={profileState}\r\n        handleAddPost={handleAddPost}\r\n        handleSub={handleSub}\r\n        handleUnsub={handleUnsub}\r\n        handleSignOut={handleSignOut}\r\n      />\r\n      <Posts\r\n        posts={userPosts}\r\n        currentUser={users.currentUser}\r\n        likePost={handleLikePost}\r\n        delPost={handleDelPost}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { IRouteParams } from '../interfaces/IRouteParams'\r\nimport { IState } from '../interfaces/IState'\r\nimport '../styles/Subs.scss'\r\n\r\nexport const Subs: React.FC = () => {\r\n  const { id, subs } = useParams<IRouteParams>()\r\n  const users = useSelector((state: IState) => state.users)\r\n  const subsList = users.byId[id][subs].map((id: string) => ({\r\n    userId: id,\r\n    name: users.byId[id].name,\r\n  }))\r\n\r\n  return (\r\n    <div className=\"Subs\">\r\n      <Link className=\"link\" to={`/${id}`}>\r\n        Назад\r\n      </Link>\r\n      <ul className=\"Subs__list\">\r\n        {subsList.map((sub: any) => (\r\n          <li key={sub.userId} className=\"Subs__list_item\">\r\n            <Link className=\"link\" to={`/${id}/${subs}/${sub.userId}`}>\r\n              {sub.name}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport './styles/App.scss'\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { IState } from './interfaces/IState'\nimport { Login } from './containters/Login'\nimport { Feed } from './containters/Feed'\nimport { Profile } from './containters/Profile'\nimport { Subs } from './containters/Subs'\n\nconst App: React.FC = () => {\n  const loginUser = useSelector((state: IState) => state.users.currentUser)\n  return (\n    <main className=\"App\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/login\" component={Login}>\n            {loginUser && <Redirect to=\"/feed\" />}\n          </Route>\n          {!loginUser && <Redirect to=\"/login\" />}\n          <Route exact path=\"/feed\" component={Feed} />\n          <Route exact path=\"/:id\" component={Profile} />\n          <Route exact path=\"/:id/:subs\" component={Subs} />\n          <Route exact path=\"/:curId/:subs/:id\" component={Profile} />\n          <Route path=\"/\">\n            <Redirect to=\"/login\" />\n          </Route>\n        </Switch>\n      </Router>\n    </main>\n  )\n}\n\nexport default App\n","import { IState } from '../interfaces/IState'\r\n\r\nexport const InitialState: IState = {\r\n  users: {\r\n    currentUser: '',\r\n    byId: {\r\n      user1: { name: 'vlapky', subscribedTo: [], subscribers: ['user2'] },\r\n      user2: { name: 'Kiva', subscribedTo: ['user1'], subscribers: [] },\r\n    },\r\n    allIds: ['user1', 'user2'],\r\n  },\r\n  posts: {\r\n    byId: {\r\n      post1: {\r\n        id: 'post1',\r\n        author: 'user1',\r\n        text: 'Welcome to Titter by vlapky',\r\n        liked: ['user1', 'user2'],\r\n      },\r\n      post2: {\r\n        id: 'post2',\r\n        author: 'user2',\r\n        text: 'Welcome to Titter by vlapky by Kiva',\r\n        liked: ['user2', 'user1'],\r\n      },\r\n    },\r\n    allIds: ['post1', 'post2'],\r\n  },\r\n}\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { Actions } from './Actions'\r\nimport { InitialState } from './InitialState'\r\n\r\nexport const RootReducer = createReducer(InitialState, {\r\n  [Actions.SignIn.type]: (state, action) => {\r\n    //Вход старого пользователя\r\n    state.users.allIds.forEach((id: string) => {\r\n      let user = state.users.byId[id]\r\n      if (user.name === action.payload) {\r\n        state.users.currentUser = id\r\n      }\r\n    })\r\n    //Регистрация нового пользователя\r\n    if (state.users.currentUser === '') {\r\n      const newUserId: string = `user${state.users.allIds.length + 1}`\r\n\r\n      state.users.allIds.push(newUserId)\r\n      state.users.byId[newUserId] = {\r\n        name: action.payload,\r\n        subscribedTo: [],\r\n        subscribers: [],\r\n      }\r\n\r\n      state.users.currentUser = newUserId\r\n    }\r\n  },\r\n\r\n  [Actions.SignOut.type]: (state) => {\r\n    state.users.currentUser = ''\r\n  },\r\n\r\n  [Actions.Subscribe.type]: (state, action) => {\r\n    const currentUser = state.users.currentUser\r\n    const subUser = action.payload\r\n\r\n    state.users.byId[currentUser].subscribedTo.push(subUser)\r\n    state.users.byId[subUser].subscribers.push(currentUser)\r\n  },\r\n\r\n  [Actions.Unsubscribe.type]: (state, action) => {\r\n    const currentUser = state.users.currentUser\r\n    const subUser = action.payload\r\n\r\n    const indexSubUser = state.users.byId[currentUser].subscribedTo.indexOf(\r\n      subUser\r\n    )\r\n    state.users.byId[currentUser].subscribedTo.splice(indexSubUser, 1)\r\n\r\n    const indexCurUser = state.users.byId[subUser].subscribers.indexOf(\r\n      currentUser\r\n    )\r\n    state.users.byId[subUser].subscribers.splice(indexCurUser, 1)\r\n  },\r\n\r\n  [Actions.AddPost.type]: (state, action) => {\r\n    const postId = `${new Date().getUTCMilliseconds()}`\r\n\r\n    state.posts.allIds.push(postId)\r\n    state.posts.byId[postId] = {\r\n      id: postId,\r\n      author: state.users.currentUser,\r\n      text: action.payload,\r\n      liked: [],\r\n    }\r\n  },\r\n\r\n  [Actions.DelPost.type]: (state, action) => {\r\n    const delPostId = action.payload\r\n    const indexDelPost = state.posts.allIds.indexOf(delPostId)\r\n\r\n    state.posts.allIds.splice(indexDelPost, 1)\r\n    delete state.posts.byId[delPostId]\r\n  },\r\n\r\n  [Actions.LikePost.type]: (state, action) => {\r\n    const likePostId = action.payload\r\n    const currentUser = state.users.currentUser\r\n    const indexLike = state.posts.byId[likePostId].liked.indexOf(currentUser)\r\n\r\n    if (indexLike === -1) {\r\n      //если лайк не стоит, поставить\r\n      state.posts.byId[likePostId].liked.push(currentUser)\r\n    } else {\r\n      //если лайк стоит, убрать\r\n      state.posts.byId[likePostId].liked.splice(indexLike, 1)\r\n    }\r\n  },\r\n\r\n  [Actions.ChangeName.type]: (state, action) => {\r\n    const newName = action.payload\r\n    const currentUser = state.users.currentUser\r\n    let acceptName = true\r\n    //проверка доступности имени\r\n    state.users.allIds.forEach((userId) => {\r\n      if (state.users.byId[userId].name === newName) acceptName = false\r\n    })\r\n    //замена имени\r\n    if (acceptName) state.users.byId[currentUser].name = newName\r\n  },\r\n})\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport { InitialState } from './InitialState'\r\nimport { RootReducer } from './RootReducer'\r\n\r\nconst loadFromLocalStorage: any = () => {\r\n  try {\r\n    const serializedState: any = localStorage.getItem('titter-storage')\r\n    return JSON.parse(serializedState)\r\n  } catch (e) {\r\n    throw new Error(e)\r\n  }\r\n}\r\n\r\nconst saveToLocalStorage: any = (state: any) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state)\r\n    localStorage.setItem('titter-storage', serializedState)\r\n  } catch (e) {\r\n    throw new Error(e)\r\n  }\r\n}\r\n\r\nconst loadState = loadFromLocalStorage()\r\nconst state = loadState ? loadState : InitialState\r\n\r\nexport const Store = configureStore({\r\n  reducer: RootReducer,\r\n  preloadedState: state,\r\n})\r\n\r\nStore.subscribe(() => {\r\n  saveToLocalStorage(Store.getState())\r\n})\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './styles/index.scss'\nimport { Store } from './redux/Store'\nimport { Provider } from 'react-redux'\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={Store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}